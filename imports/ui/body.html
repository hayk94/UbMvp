<body>
  <!-- <ul>
    {{#each tasks}}
      {{> task}}
    {{/each}}
  </ul> -->
  <ul>
    <h1>IPS</h1>
    <!-- {{#each ips}}
      {{> ip}}
    {{/each}} -->
    <pre>
      {{ips}}
    </pre>

    <a href="/test">test router</a>
    <main>
      {{>Template.dynamic template=content}}
    </main>
    <!-- <h2>Connections</h2> -->
    <!-- {{#each conns}}
      {{> conn}}
    {{/each}} -->
    <!-- <pre>
      {{conns}}
    </pre> -->
  </ul>
</body>

<template name="blogHome">
  <p>
    This is the home page of our blog
  </p>
  <p>
    <a href="/hello-world">See Hello World Post</a>
  </p>
</template>

<template name="blogPost">
  <p>
    <a href="/">Back</a> <br>
    This is a sing blog post
  </p>
</template>

<template name="ip">
  <ul>
    <li><strong>ID:</strong> {{_id}}</li>
    <li><strong>IP:</strong> {{ipAdr}}</li>
    <li>
      <p>
        <strong>Connections from this Ip</strong>
      </p>
      <button class="showHide">Toggle</button>
      <ul class="conns">
      {{#each item in connections}}
        {{#each keyval item}}
          <li><span>{{key}} : {{value}}</span></li>
        {{/each}}
      {{/each}}
    </ul>
  </li>
    <li><strong>Ip first registered:</strong> {{createdAt}}</li>
  </ul>
</template>

<template name="task">
  <li>{{text}}</li>
</template>

<template name="conn">
  <li><ul>
    <li>{{connID}}</li>
    <li>{{ipAdr}}</li>
    <li>
      <ul>
        <!-- {{#each item in httpHeads}}
          {{#each keyval item}}
            <li><span>{{key}} : {{val}}</span></li>
          {{/each}}
        {{/each}} -->
        <li>{{httpHeads.host}}</li>
        <li>{{httpHeads.userAgent}}</li>
        <li>{{httpHeads.realIP}}</li>
      </ul>
    </li>
    <li>{{createdAt}}</li>
  </ul></li>
</template>
